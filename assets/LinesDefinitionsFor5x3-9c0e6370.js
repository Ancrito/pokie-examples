var m=Object.defineProperty;var g=(i,e,t)=>e in i?m(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var s=(i,e,t)=>(g(i,typeof e!="symbol"?e+"":e,t),t);import{V as b,a as S,S as l,b as u,c as h}from"./ui-a2dbac6f.js";class G{constructor(e=new b){s(this,"baseSerializer");this.baseSerializer=e}getInitialData(e){return{...this.baseSerializer.getInitialData(e),...this.getRoundData(e)}}getRoundData(e){const t=e.getFreeGamesNum(),r=e.getFreeGamesSum(),a=e.getFreeGamesBank(),o=e.getWonFreeGamesNumber();return{...this.baseSerializer.getRoundData(e),freeGamesNum:t,freeGamesSum:r,freeGamesBank:a,wonFreeGamesNumber:o}}}class n{constructor(e=new S){s(this,"baseConfig");s(this,"freeGamesForScattersMap");this.baseConfig=e,this.freeGamesForScattersMap=n.createFreeGamesForScattersMap()}static createFreeGamesForScattersMap(){const e={},t={};return t[3]=10,t[4]=15,t[5]=20,e.S=t,e}getFreeGamesForScatters(e,t){return!Reflect.has(this.freeGamesForScattersMap,e)||!Reflect.has(this.freeGamesForScattersMap[e],t)?0:this.freeGamesForScattersMap[e][t]}setFreeGamesForScatters(e,t,r){Reflect.has(this.freeGamesForScattersMap,e)||(this.freeGamesForScattersMap[e]={}),this.freeGamesForScattersMap[e][t]=r}isSymbolWild(e){return this.baseConfig.isSymbolWild(e)}isSymbolScatter(e){return this.baseConfig.isSymbolScatter(e)}setAvailableBets(e){this.baseConfig.setAvailableBets([...e])}getAvailableBets(){return[...this.baseConfig.getAvailableBets()]}isBetAvailable(e){return this.baseConfig.isBetAvailable(e)}getPaytable(){return this.baseConfig.getPaytable()}setPaytable(e){this.baseConfig.setPaytable(e)}getWildSymbols(){return this.baseConfig.getWildSymbols()}setWildSymbols(e){this.baseConfig.setWildSymbols(e)}getScatterSymbols(){return this.baseConfig.getScatterSymbols()}setScatterSymbols(e){this.baseConfig.setScatterSymbols([...e])}setCreditsAmount(e){this.baseConfig.setCreditsAmount(e)}getCreditsAmount(){return this.baseConfig.getCreditsAmount()}setBet(e){this.baseConfig.setBet(e)}getBet(){return this.baseConfig.getBet()}getReelsNumber(){return this.baseConfig.getReelsNumber()}setReelsNumber(e){this.baseConfig.setReelsNumber(e)}getReelsSymbolsNumber(){return this.baseConfig.getReelsSymbolsNumber()}setReelsSymbolsNumber(e){this.baseConfig.setReelsSymbolsNumber(e)}getLinesDefinitions(){return this.baseConfig.getLinesDefinitions()}setLinesDefinitions(e){this.baseConfig.setLinesDefinitions(e)}getLinesPatterns(){return this.baseConfig.getLinesPatterns()}setLinesPatterns(e){this.baseConfig.setLinesPatterns(e)}getAvailableSymbols(){return[...this.baseConfig.getAvailableSymbols()]}setAvailableSymbols(e){this.baseConfig.setAvailableSymbols([...e])}getSymbolsSequences(){return this.baseConfig.getSymbolsSequences()}setSymbolsSequences(e){this.baseConfig.setSymbolsSequences(e)}}class F{constructor(e=new n,t=new l(e),r=new u(e),a=new h(e,t,r)){s(this,"baseSession");s(this,"config");s(this,"freeGamesNum",0);s(this,"freeGamesSum",0);s(this,"freeBank",0);this.baseSession=a,this.config=e}getWonFreeGamesNumber(){let e=0;const t=this.getWinningScatters();for(const r of Object.values(t)){const a=this.config.getFreeGamesForScatters(r.getSymbolId(),r.getSymbolsPositions().length);a>0&&(e+=a)}return e}getFreeGamesNum(){return this.freeGamesNum}setFreeGamesNum(e){this.freeGamesNum=e}getFreeGamesSum(){return this.freeGamesSum}setFreeGamesSum(e){this.freeGamesSum=e}getFreeGamesBank(){return this.freeBank}setFreeGamesBank(e){this.freeBank=e}getPaytable(){return this.config.getPaytable()}getSymbolsCombination(){return this.baseSession.getSymbolsCombination()}getWinningLines(){return this.baseSession.getWinningLines()}getWinningScatters(){return this.baseSession.getWinningScatters()}getSymbolsSequences(){return this.baseSession.getSymbolsSequences()}getReelsSymbolsNumber(){return this.baseSession.getReelsSymbolsNumber()}getReelsNumber(){return this.baseSession.getReelsNumber()}getAvailableSymbols(){return this.baseSession.getAvailableSymbols()}getCreditsAmount(){return this.baseSession.getCreditsAmount()}setCreditsAmount(e){this.baseSession.setCreditsAmount(e)}getWinAmount(){return this.baseSession.getWinAmount()}getAvailableBets(){return this.baseSession.getAvailableBets()}getBet(){return this.baseSession.getBet()}setBet(e){this.baseSession.setBet(e)}canPlayNextGame(){return this.baseSession.canPlayNextGame()}play(){this.getFreeGamesNum()===this.getFreeGamesSum()&&(this.setFreeGamesBank(0),this.setFreeGamesNum(0),this.setFreeGamesSum(0));const e=this.getCreditsAmount();this.baseSession.play(),this.getFreeGamesSum()>0&&this.getFreeGamesNum()<this.getFreeGamesSum()&&(this.setFreeGamesNum(this.getFreeGamesNum()+1),this.setFreeGamesBank(this.getFreeGamesBank()+this.getWinAmount()),this.setCreditsAmount(e));const t=this.getWonFreeGamesNumber();t>0?this.setFreeGamesSum(this.getFreeGamesSum()+t):this.getFreeGamesSum()>0&&this.getFreeGamesNum()===this.getFreeGamesSum()&&this.setCreditsAmount(this.getCreditsAmount()+this.getFreeGamesBank())}getFreeGamesForScatters(e,t){return this.config.getFreeGamesForScatters(e,t)}isSymbolWild(e){return this.baseSession.isSymbolWild(e)}isSymbolScatter(e){return this.baseSession.isSymbolScatter(e)}getWildSymbols(){return this.baseSession.getWildSymbols()}getScatterSymbols(){return this.baseSession.getScatterSymbols()}getLinesDefinitions(){return this.baseSession.getLinesDefinitions()}getLinesPatterns(){return this.baseSession.getLinesPatterns()}getLinesWinning(){return this.baseSession.getLinesWinning()}getScattersWinning(){return this.baseSession.getScattersWinning()}}class y{constructor(){s(this,"definitions",{0:[1,1,1,1,1],1:[0,0,0,0,0],2:[2,2,2,2,2],3:[0,1,2,1,0],4:[2,1,0,1,2],5:[0,0,1,0,0],6:[2,2,1,2,2],7:[1,1,0,1,1],8:[1,1,2,1,1],9:[0,1,1,1,0],10:[2,1,1,1,2],11:[0,1,0,1,0],12:[2,1,2,1,2]})}getLineDefinition(e){return this.definitions[e]}getLinesIds(){return Object.keys(this.definitions)}}export{y as L,F as V,n as a,G as b};
